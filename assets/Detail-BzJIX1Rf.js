import{j as e,D as F,l as $,u as E,m as C,n as M,o as T,p as z,q as I}from"./index-D7mWZ3uM.js";import{r as d}from"./pagination-BlIMZx3U.js";import{I as L,M as A,a as J}from"./MovieCardSkeleton-BUNp2AHw.js";const _="/Movie-App/assets/dummy-user-CXthF0zB.png",B=({movie:t})=>{var x,m;const a=t?((x=t.release_date)==null?void 0:x.split("-")[0])||((m=t.first_air_date)==null?void 0:m.split("-")[0]):"",r=l=>l.target.src=F;return e.jsxs(e.Fragment,{children:[t.backdrop_path&&e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:`https://www.themoviedb.org/t/p/w1920_and_h800_multi_faces${t.backdrop_path}`,alt:t.name,className:"w-full md:h-auto h-[296px] object-cover bg-center"}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-t dark:from-background from-background-light dark:via-background/90 via-background-light/20 dark:via-20% via-50% dark:to-background/10 to-background-light/5 to-70%"})]}),e.jsx("div",{className:`relative container ${t.backdrop_path?"md:-mt-52 -mt-28":"mt-32"} z-10`,children:e.jsxs("div",{className:"flex md:flex-row flex-col md:space-x-10 space-y-8",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:`https://www.themoviedb.org/t/p/w220_and_h330_face${t.poster_path}`,alt:t.title||t.name,className:"rounded-xl xl:w-[220px] lg:w-[190px] md:w-[170px] w-[160px] xl:min-w-[220px] lg:min-w-[190px] md:min-w-[170px] min-w-[160px] xl:h-[330px] lg:h-[290px] md:h-[270px] h-[240px] xl:min-h-[330px] lg:min-h-[290px] md:min-h-[270px] min-h-[240px]",onError:r}),e.jsx("img",{src:`https://www.themoviedb.org/t/p/w220_and_h330_face${t.poster_path}`,alt:t.title||t.name,className:"absolute top-2 rounded-lg blur-lg -z-10 opacity-30 xl:w-[220px] lg:w-[190px] md:w-[170px] w-[160px] xl:min-w-[220px] lg:min-w-[190px] md:min-w-[170px] min-w-[160px] xl:h-[330px] lg:h-[290px] md:h-[270px] h-[240px] xl:min-h-[330px] lg:min-h-[290px] md:min-h-[270px] min-h-[240px]",onError:r})]}),e.jsxs("div",{className:"flex flex-col mt-16 space-y-3",children:[e.jsx("h1",{className:"tracking-wide font-bold xl:text-3xl md:text-2xl text-slate-950 dark:text-slate-100",children:t.original_name||t.original_title}),t.spoken_languages.length>0&&e.jsxs("p",{className:"font-medium text-sm text-slate-950 dark:text-slate-100",children:[a," ● ",t.spoken_languages[0].english_name," ",t.first_air_date&&e.jsxs(e.Fragment,{children:["● ",t.number_of_episodes," Episode"]})]}),e.jsx("div",{className:"flex space-x-2 overflow-x-auto no-scrollbar",children:t.genres.map(l=>e.jsx("div",{className:"px-3 py-1 dark:bg-slate-700/50 bg-slate-400/50 font-medium text-xs tracking-wide rounded dark:text-slate-100 text-slate-950 whitespace-nowrap",children:l.name},l.id))}),e.jsx("p",{className:"xl:max-w-[60%] lg:max-w-[70%] font-normal text-sm text-slate-950 dark:text-slate-100 leading-loose",children:t.overview})]})]})})]})},H=({credits:t})=>e.jsx("div",{className:"flex space-x-3 overflow-x-auto no-scrollbar scroll-smooth",children:t.map((a,r)=>e.jsxs("div",{className:"w-[120px] min-w-[120px] max-w-[120px] flex flex-col items-center space-y-1",children:[e.jsx($.LazyLoadImage,{src:`https://www.themoviedb.org/t/p/w138_and_h175_face/${a.profile_path}`,alt:a.name,useIntersectionObserver:!0,threshold:100,placeholderSrc:e.jsx("div",{className:"bg-slate-300 dark:bg-slate-800 animate-pulse w-20 min-w-[80px] max-w-[80px] h-20 min-h-[80px] max-h-[80px] rounded-full"}),effect:"black-and-white",onError:x=>{x.currentTarget.onerror=null,x.currentTarget.src=_},className:"w-20 min-w-[80px] max-w-[80px] h-20 min-h-[80px] max-h-[80px] rounded-full object-cover bg-center shadow"}),e.jsx("p",{className:"font-medium text-sm text-slate-950 dark:text-slate-100 text-center",children:a.name}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-zinc-400 text-center",children:a.character})]},`credit-${r}`))}),O=$.trackWindowScroll(H),P=({trailers:t})=>e.jsx("div",{className:"flex space-x-6 overflow-x-auto no-scrollbar scroll-smooth",children:t.map((a,r)=>e.jsx("div",{className:"lg:w-[500px] md:w-[450px] w-[360px] lg:h-[300px] md:h-[250px] h-[200px] rounded-lg",children:e.jsx("iframe",{src:`https://www.youtube.com/embed/${a.key}`,title:a.name,frameBorder:"0",allow:"encrypted-media;",allowFullScreen:!0,className:"lg:w-[500px] md:w-[450px] w-[360px] lg:h-[300px] md:h-[250px] h-[200px] rounded-lg"})},`trailer-${r}`))}),U=()=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full xl:h-[500px] lg:h-[450px] md:h-[400px] h-[300px] bg-slate-300 dark:bg-slate-700 animate-pulse"}),e.jsx("div",{className:"container",children:e.jsx("div",{className:"xl:w-[220px] lg:w-[190px] md:w-[170px] w-[160px] xl:h-[330px] lg:h-[290px] md:h-[270px] h-[240px] md:-mt-52 -mt-28 bg-slate-300 dark:bg-slate-700 animate-pulse"})})]}),Y=()=>e.jsx("div",{className:"flex space-x-3 overflow-x-auto no-scrollbar",children:[...Array(20)].map((t,a)=>e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-slate-300 dark:bg-slate-700 animate-pulse"}),e.jsx("div",{className:"w-28 h-5 rounded bg-slate-300 dark:bg-slate-700 animate-pulse"}),e.jsx("div",{className:"w-28 h-4 rounded bg-slate-300 dark:bg-slate-700 animate-pulse"})]},`skeleton-credit-${a}`))}),q=()=>e.jsx("div",{className:"flex space-x-6 overflow-x-auto no-scrollbar",children:[...Array(20)].map((t,a)=>e.jsx("div",{className:"bg-slate-300 dark:bg-slate-700 animate-pulse lg:min-w-[500px] md:min-w-[450px] min-w-[360px] lg:h-[300px] md:h-[250px] h-[200px] rounded-lg"},`skeleton-trailer-${a}`))}),K=()=>e.jsx(e.Fragment,{children:[...Array(10)].map((t,a)=>e.jsxs("div",{className:"w-full flex flex-col mb-5 last:mb-0 pb-5 last:pb-0 space-y-3 border-b last:border-b-0 dark:border-slate-800/70 border-slate-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"md:w-14 w-12 md:h-14 h-12 rounded-full bg-slate-300 dark:bg-slate-700 animate-pulse"}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("div",{className:"w-40 h-4 rounded bg-slate-300 dark:bg-slate-700 animate-pulse"}),e.jsx("div",{className:"w-32 h-3 rounded bg-slate-300 dark:bg-slate-700 animate-pulse"})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("div",{className:"w-4/5 h-4 rounded bg-slate-300 dark:bg-slate-700 animate-pulse"}),e.jsx("div",{className:"w-3/4 h-4 rounded bg-slate-300 dark:bg-slate-700 animate-pulse"})]})]},`skeleton-review-${a}`))}),V=({reviews:t})=>{const[a,r]=d.useState(t),x=s=>{const c=a.map(n=>n.id===s?{...n,read_more:!n.read_more}:n);r(c)},m=s=>{const c=["January","February","March","April","May","June","July","August","September","October","November","December"],n=new Date(s),b=String(n.getDate()).padStart(2,"0"),p=c[n.getMonth()],f=n.getFullYear(),h=String(n.getHours()).padStart(2,"0"),j=String(n.getMinutes()).padStart(2,"0"),u=String(n.getSeconds()).padStart(2,"0");return`${b} ${p} ${f} ${h}:${j}:${u}`},l=s=>s.target.src=_;return e.jsx("div",{children:a.map((s,c)=>e.jsxs("div",{className:"w-full flex flex-col mb-5 last:mb-0 pb-5 last:pb-0 space-y-3 border-b last:border-b-0 dark:border-slate-800/70 border-slate-200",children:[e.jsxs("div",{className:"w-full flex justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:s.author_details.avatar_path?s.author_details.avatar_path.replace("/https","https"):_,alt:s.author,onError:l,className:"md:w-14 w-12 md:h-14 h-12 rounded-full shadow"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-slate-950 dark:text-slate-100 text-base",children:s.author}),e.jsx("p",{className:"font-normal text-slate-600 dark:text-zinc-400 text-xs",children:m(s.created_at)})]})]}),s.author_details.rating&&e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(L,{className:"w-3 md:w-4 text-yellow-500 dark:text-yellow-600 md:-mt-[3px] -mt-[5px]"}),e.jsx("p",{className:"text-xs md:text-sm text-slate-600 dark:text-zinc-400",children:s.author_details.rating})]})]}),s.content.length>300&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"font-normal md:text-base text-sm text-slate-950 dark:text-slate-100 md:leading-loose leading-relaxed",children:s.read_more?s.content:`${s.content.slice(0,299)}...`}),e.jsx("button",{className:"w-min font-medium text-blue-500 whitespace-nowrap cursor-pointer",onClick:()=>x(s.id),children:s.read_more?"Less":"Read More"})]}),s.content.length<=300&&e.jsx("p",{className:"font-normal md:text-base text-sm text-slate-950 dark:text-slate-100 md:leading-loose leading-relaxed",children:s.content})]},`review-${c}`))})},Q=()=>{const t="469c18b93c9a4c19cb97c1850d65f263",{type:a,id:r}=E(),[x,m]=d.useState(!0),[l,s]=d.useState(!0),[c,n]=d.useState(null),[b,p]=d.useState([]),[f,h]=d.useState([]),[j,u]=d.useState([]),[y,S]=d.useState([]),D=async()=>{const o={api_key:t,language:"en-US"},k=await C(a||"",r||"",o);k.data&&n(k.data);const N=await M(a||"",r||"",o);N.data&&p(N.data.cast);const g=await T(a||"",r||"",o);g.data&&g.data.results.length>0&&h(g.data.results.filter(i=>i.site==="YouTube"&&(i.type==="Teaser"||i.type==="Trailer")&&i.official).slice(0,5));const v=await z(a||"",r||"",o);v.data&&u(v.data.results.map(i=>(i.read_more=!1,i)));const w=await I(a||"",r||"",o);w.data&&w.data.results.length>0&&S(w.data.results),Promise.all([k,N,g,v,w]).then(()=>{s(!1)}),m(!1)},R=()=>{n(null),p([]),h([]),u([]),S([])};return d.useEffect(()=>{D()},[]),d.useEffect(()=>{x||(window.scrollTo(0,0),R(),s(!0),D())},[r]),c&&e.jsxs(e.Fragment,{children:[l&&e.jsx(U,{}),!l&&e.jsx(B,{movie:c}),e.jsxs("div",{className:"container md:mt-16 mt-10 md:space-y-12 space-y-8",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold tracking-wide xl:text-2xl md:text-xl text-lg text-slate-950 dark:text-slate-100 mb-3",children:"Full Cast"}),l&&e.jsx(Y,{}),!l&&e.jsx(O,{credits:b})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold tracking-wide xl:text-2xl md:text-xl text-lg text-slate-950 dark:text-slate-100 mb-3",children:"Videos"}),l&&e.jsx(q,{}),!l&&e.jsx(P,{trailers:f})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold tracking-wide xl:text-2xl md:text-xl text-lg text-slate-950 dark:text-slate-100 mb-3",children:"Reviews"}),l&&e.jsx(K,{}),!l&&e.jsx(V,{reviews:j})]}),e.jsxs("div",{className:"mt-8 pt-8 border-t dark:border-slate-800 border-slate-200",children:[e.jsx("p",{className:"font-bold tracking-wide xl:text-2xl md:text-xl text-lg text-slate-950 dark:text-slate-100 mb-3",children:"Recommendations"}),e.jsxs("div",{className:"flex space-x-5 snap-x overflow-x-auto no-scrollbar scroll-smooth",children:[!l&&y.length>0&&y.map(o=>e.jsx("div",{className:"min-w-[155px] md:min-w-[170px] lg:min-w-[180px] flex flex-col",children:e.jsx(A,{movie:o})},o.id)),l&&e.jsx(J,{isHorizontal:!0})]})]})]})]})};export{Q as default};
